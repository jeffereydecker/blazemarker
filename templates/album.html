
{{define "scripts"}}
<script>
document.addEventListener('DOMContentLoaded', function() {
  var carousel = document.getElementById('carouselExample');
  if (carousel) {
    carousel.addEventListener('slide.bs.carousel', function(e) {
      var counter = document.getElementById('current-photo');
      if (counter) {
        counter.textContent = e.to + 1;
      }
    });
  }
});
</script>
{{end}}

{{ define "nav_body" }}

<div class="container text-center">

  <header>
    <h2>{{ .Name }}</h2>
      <!--
	  <div>
            <p><span>Jefferey Decker</span></p>
         <p><a ---


	       ef="." rel="bookmark"><time datetime="2023-07-25T14:26:00-03:00">2023-06-25 14:26</time></a></p>
	  </div>
	  -->
  </header>



  <div class="row" id="gallery" data-bs-toggle="modal" data-bs-target="#exampleModal">
    {{ if eq (len .SitePhotos) 0 }}
    nothing to see here
    {{ end }}
    
    {{ range .SitePhotos }}
    <div class="col-12 col-sm-6 col-lg-3">
      <figure class="figure">
	<img class="figure-img img-fluid rounded" src="{{ .Path }}" data-bs-target="#carouselExample"
	     data-bs-slide-to="{{ .Index }}">
	<figcaption class="figure-caption text-center">{{ .Name }}<figcaption>
      </figure>
    </div>
    {{ end }}

  </div>

  <div class="modal fade " id="exampleModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog  modal-dialog-centered modal-fullscreen" role="document">
      <div class="modal-content">
	<div class="modal-header">
          <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
	</div>
	<div class="modal-body blazemarker-modal-body" style="padding: 20px; display: flex; align-items: center; justify-content: center; min-height: 80vh;">
          <div id="carouselExample" class="carousel slide" data-bs-ride="carousel" style="width: 100%; height: 100%;">
            <!-- Photo counter -->
            <div class="photo-counter" style="position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 5px 12px; border-radius: 20px; font-size: 14px; z-index: 20;">
              <span id="current-photo">1</span> / {{ len .OriginalPhotos }}
            </div>
            <div class="carousel-inner blazemarker-carousel-inner">
	      {{ range .OriginalPhotos }}
	      {{ if eq .Index 0 }}
	      <div class="carousel-item blazemarker-carousel-item active">
		<div class="col">
		  <figure class="figure">
		    <img class="figure-img img-fluid w-auto h-auto rounded" src="{{ .Path }}" alt="Slide {{ .Index }}">
		    <figcaption class="figure-caption text-center">{{ .Name }}</figcaption>
		  </figure>
		</div>
              </div>
	      {{ else }}
	      <div class="carousel-item blazemarker-carousel-item">
		<div class="col">
		  <figure class="figure">
		    <img class="figure-img img-fluid w-auto h-auto rounded" src="{{ .Path }}" alt="Slide {{ .Index }}">
		    <figcaption class="figure-caption text-center">{{ .Name }}</figcaption>
		  </figure>
		</div>
	      </div>
	      {{ end }}
	      {{ end }}
	    </div>
            <a class="carousel-control-prev" href="#carouselExample" role="button" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExample" role="button" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
	</div>
	<div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
	</div>
      </div>
    </div>
  </div>
</div>

{{ end }}




  




